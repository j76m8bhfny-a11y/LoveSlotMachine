<view class="result-page">
  
  <!-- é˜¶æ®µä¸€ï¼šè€è™æœº (Loading) -->
  <view class="slot-machine-container" wx:if="{{isLoading}}">
    <view class="slot-machine-header">
      <view class="bulb-row">
        <view class="bulb" wx:for="{{[1,2,3,4,5]}}" wx:key="*this"></view>
      </view>
    </view>
    <view class="slot-window">
      <view class="slot-col col-1">
        <view class="slot-items-wrapper {{spinning ? 'spin-anim-1' : ''}}">
           <text>ğŸ¡</text><text>ğŸ¬</text><text>ğŸ·</text><text>ğŸ¸</text>
        </view>
      </view>
      <view class="slot-col col-2">
         <view class="slot-items-wrapper {{spinning ? 'spin-anim-2' : ''}}">
           <text>ğŸ</text><text>ğŸœ</text><text>ğŸ°</text><text>ğŸ±</text>
         </view>
      </view>
      <view class="slot-col col-3">
         <view class="slot-items-wrapper {{spinning ? 'spin-anim-3' : ''}}">
           <text>â¤ï¸</text><text>âœ¨</text><text>ğŸŒ™</text><text>ğŸµ</text>
         </view>
      </view>
    </view>
    <view class="slot-text">AI æ­£åœ¨ç–¯ç‹‚è®¡ç®—æµªæ¼«æŒ‡æ•°...</view>
  </view>

  <!-- é˜¶æ®µäºŒï¼šå°ç¥¨å±•ç¤º (Result) -->
  <view class="receipt-container {{showReceipt ? 'slide-up' : ''}}" wx:else>
    <view class="receipt">
      <!-- é”¯é½¿é¡¶éƒ¨ -->
      <view class="jagged-top"></view>
      
      <view class="receipt-content">
        <view class="receipt-header">
          <text class="brand">CP çµæ„Ÿèˆ±</text>
          <text class="date">{{resultData.date || 'Today'}}</text>
        </view>
        
        <view class="divider dashed"></view>
        
        <view class="main-suggestion">
          <text class="suggestion-title">{{result.title}}</text>
          <view class="star-rating">
            <text>åŒ¹é…åº¦ï¼š</text>
            <text style="color:#FF6B6B">â¤â¤â¤â¤â¤</text>
          </view>
        </view>

        <view class="details-box">
          <view class="detail-row">
            <text class="label">ğŸ“ åœ°ç‚¹</text>
            <text class="value">{{result.location}}</text>
          </view>
          <view class="detail-row">
            <text class="label">ğŸ® ç©æ³•</text>
            <text class="value highlight">{{result.activity}}</text>
          </view>
        </view>
        
        <view class="reason-box">
          <text class="reason-label">ğŸ’¡ æ¨èç†ç”±</text>
          <text class="reason-text">{{result.reason}}</text>
        </view>

        <view class="tags-row">
          <block wx:for="{{result.tags}}" wx:key="*this">
             <text class="tag">{{item}}</text>
          </block>
        </view>

        <view class="divider dashed"></view>
        
        <view class="barcode">|| ||| | |||| || ||</view>
        <text class="footer-msg">ç¥ä½ ä»¬ç©å¾—å¼€å¿ƒï¼</text>
      </view>

      <!-- é”¯é½¿åº•éƒ¨ -->
      <view class="jagged-bottom"></view>
    </view>

    <!-- æ‘‡æ†/æŒ‰é’® -->
    <view class="action-area">
      <button class="reroll-btn" bindtap="reRoll">
        <text>ä¸æ»¡æ„ï¼Ÿæ‹‰åŠ¨æ‹‰æ†é‡è¯• ğŸ•¹ï¸</text>
      </button>
      <button class="share-btn" open-type="share">åˆ†äº«ç»™Ta â¤ï¸</button>
    </view>
  </view>

</view>