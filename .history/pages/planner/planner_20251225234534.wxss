.planner-page {
  height: 100vh;
  transition: background 0.5s ease;
}

/* 背景变换类 */
.bg-morning { background: linear-gradient(180deg, #E0F7FA 0%, #FFF8E7 100%); }
.bg-am { background: linear-gradient(180deg, #FFF9C4 0%, #FFF8E7 100%); }
.bg-pm { background: linear-gradient(180deg, #FFCCBC 0%, #FFF8E7 100%); }
.bg-night { background: linear-gradient(180deg, #3949AB 0%, #7986CB 100%); }

.scroll-content { padding: 30rpx; height: 100vh; box-sizing: border-box; }

.header { padding: 20rpx 0; display: flex; align-items: center; margin-bottom: 20rpx; }
.page-title { font-size: 36rpx; font-weight: 900; margin-left: 20rpx; color: #333; }

.section-card {
  padding: 30rpx;
  margin-bottom: 30rpx;
  background: rgba(255,255,255,0.9); /* 半透明磨砂感 */
}

.section-header { font-size: 30rpx; font-weight: bold; margin-bottom: 24rpx; display: flex; align-items: center; gap: 10rpx; }

/* 气泡 */
.bubble-rack { display: flex; flex-wrap: wrap; gap: 20rpx; justify-content: center; }
.bubble {
  padding: 16rpx 30rpx;
  border-radius: 40rpx;
  text-align: center;
  border: 4rpx solid transparent;
  transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
  opacity: 0.6; transform: scale(0.9);
}
.bubble.active {
  opacity: 1; transform: scale(1.1);
  border-color: #333;
  box-shadow: 0 6rpx 10rpx rgba(0,0,0,0.15);
}
.bubble-main { display: block; font-size: 28rpx; font-weight: bold; color: #fff; text-shadow: 0 1rpx 2rpx rgba(0,0,0,0.2); }
.bubble-sub { font-size: 20rpx; color: rgba(255,255,255,0.9); }

/* 时间 */
.time-row { display: flex; justify-content: space-between; }
.time-item {
  display: flex; flex-direction: column; align-items: center;
  padding: 16rpx; border-radius: 20rpx;
  border: 4rpx solid transparent;
}
.time-item.active { background: #fff; border-color: #333; box-shadow: 4rpx 4rpx 0 rgba(0,0,0,0.1); }
.time-emoji { font-size: 50rpx; margin-bottom: 8rpx; }
.time-label { font-size: 24rpx; font-weight: bold; color: #555; }

/* 金币物理引擎模拟 */
.budget-visual-area {
  display: flex; flex-direction: column; align-items: center;
  position: relative; margin-bottom: 20rpx;
}
.budget-number { font-size: 60rpx; font-weight: 900; color: #FFD700; text-shadow: 2rpx 2rpx 0 #d4a017; z-index: 10; }
.coin-pool {
  width: 100%; height: 160rpx;
  position: relative;
  border-bottom: 4rpx solid #eee;
  overflow: hidden; /* 仅在区域内显示 */
}
.coin {
  position: absolute; bottom: 0;
  font-size: 40rpx;
  transition: all 0.3s ease;
  animation: drop 0.5s cubic-bezier(0.5, 1.5, 0.5, 1) forwards;
  opacity: 0;
}
@keyframes drop {
  from { bottom: 100%; opacity: 0; }
  to { bottom: 0; opacity: 1; }
}

.slider-labels { display: flex; justify-content: space-between; font-size: 22rpx; color: #999; font-weight: bold; padding: 0 10rpx; }

/* 底部栏 */
.space-row { display: flex; justify-content: space-between; align-items: center; }
.picker-btn {
  background: #f0f0f0; padding: 20rpx 30rpx; border-radius: 20rpx;
  font-weight: bold; color: #333; display: flex; align-items: center;
}
.pin-anim { animation: jump 1s infinite; margin-right: 10rpx; }
@keyframes jump { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10rpx); } }

.footer-spacer { height: 180rpx; }
.bottom-bar {
  position: fixed; bottom: 0; left: 0; width: 100%;
  padding: 30rpx 40rpx 60rpx;
  background: linear-gradient(to top, rgba(255,248,231,1) 80%, rgba(255,248,231,0));
  z-index: 100;
  display: flex;
  box-sizing: border-box;
}
.coin-btn {
  background: #FF6B6B; color: #fff;
  border-radius: 60rpx; height: 110rpx;
  display: flex; align-items: center; justify-content: center;
  font-size: 36rpx; font-weight: 900;
  border: 6rpx solid #D32F2F;
  box-shadow: 0 10rpx 0 #C62828; /* 立体按钮底座 */
  transition: all 0.1s;
  /* ✨✨ 核心修改 3：强制撑满剩余空间 ✨✨ */
  flex: 1;              /* 自动填满父容器的剩余宽度 */
  width: 100%;          /* 双重保险 */
  margin: 0 !important; /* ⚠️ 强制去掉 v2 自带的边距，防止变窄 */
  padding: 0;           /* 去掉默认内边距 */
  box-sizing: border-box; /* 确保边框算在宽度内 */
}

.coin-btn:active {
  transform: translateY(10rpx);
  box-shadow: 0 0 0 #C62828;
}